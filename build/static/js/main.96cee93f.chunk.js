(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1200:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(29),o=a.n(i),s=(a(561),a(21)),l=a(22),c=a(25),d=a(23),h=a(24),u=a(35),p=a(15),m=a(19),g=a(63),b=a(78),f=a.n(b),_=a(51),v=a.n(_),E=a(27),y=a.n(E),k=a(20),C=a.n(k),S=a(55),w=a(216),O=a.n(w),D=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){return function(e,t){var n=t.newValue;a.props.onChange(e,{newValue:n})}},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.root},r.a.createElement(f.a,{position:"static"},r.a.createElement(v.a,null,r.a.createElement(y.a,{href:"#",className:e.menuButton,color:"inherit","aria-label":"Feinstaub-Karte"},r.a.createElement(O.a,{alt:"Feinstaub-Karte",src:"../favicon.ico",className:e.avatar})),r.a.createElement(C.a,{className:e.title,variant:"h6",color:"inherit",noWrap:!0},"Feinstaub-Karte"),r.a.createElement("div",{className:e.grow}))))}}]),t}(n.Component),j=Object(p.withStyles)(function(e){return{root:{width:"100%"},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20},title:Object(g.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(g.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(S.fade)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(S.fade)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing.unit,width:"auto"}),searchIcon:{width:9*e.spacing.unit,height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:Object(g.a)({paddingTop:e.spacing.unit,paddingRight:e.spacing.unit,paddingBottom:e.spacing.unit,paddingLeft:10*e.spacing.unit,transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:120,"&:focus":{width:350}})}})(D),x=a(217),M=a.n(x),A=a(79),P=a.n(A),z=a(61),L=a.n(z),T=a(103),I=a.n(T),F=a(73),B=a.n(F),R=a(158),N=a.n(R),W=a(490),H=a.n(W),K=a(489),q=a.n(K),U=a(488),Y=a.n(U),V=a(491),Z=a.n(V),G=a(492),J=a.n(G),Q=a(493),X=a.n(Q),$=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={open:!0},a.handleClick=function(){a.setState(function(e){return{open:!e.open}})},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.root},r.a.createElement(P.a,{component:"nav",subheader:r.a.createElement(M.a,{component:"div"},this.props.title)},r.a.createElement(L.a,{button:!0},r.a.createElement(I.a,null,r.a.createElement(Y.a,null)),r.a.createElement(B.a,{inset:!0,primary:"Sent mail"})),r.a.createElement(L.a,{button:!0},r.a.createElement(I.a,null,r.a.createElement(q.a,null)),r.a.createElement(B.a,{inset:!0,primary:"Drafts"})),r.a.createElement(L.a,{button:!0,onClick:this.handleClick},r.a.createElement(I.a,null,r.a.createElement(H.a,null)),r.a.createElement(B.a,{inset:!0,primary:"Inbox"}),this.state.open?r.a.createElement(Z.a,null):r.a.createElement(J.a,null)),r.a.createElement(N.a,{in:this.state.open,timeout:"auto",unmountOnExit:!0},r.a.createElement(P.a,{component:"div",disablePadding:!0},r.a.createElement(L.a,{button:!0,className:e.nested},r.a.createElement(I.a,null,r.a.createElement(X.a,null)),r.a.createElement(B.a,{inset:!0,primary:"Starred"}))))))}}]),t}(r.a.Component),ee=(Object(p.withStyles)(function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},nested:{paddingLeft:4*e.spacing.unit}}})($),"AIzaSyDUiKmZIwgnhCcWldQSuScuzKE8vGg94dc"),te=a(134),ae=a(326),ne=a.n(ae),re=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={markers:[],old_markerData:[],showingInfoWindow:!1,activeMarker:{},selectedPlace:{},selectedAddress:"",selectedMarkerLat:0,selectedMarkerLng:0,old_favourites:[],old_own_sensors:[]},a.onMarkerClick=function(e,t,n){var r=Object(u.a)(Object(u.a)(a));ne.a.setApiKey(ee),ne.a.fromLatLng(t.position.lat(),t.position.lng()).then(function(e){a.setState({selectedAddress:r.getCountry(e.results[0].address_components)+", "+r.getCity(e.results[0].address_components)})},function(e){console.error(e)}),a.setState({selectedPlace:e,activeMarker:t,selectedMarkerLat:Math.round(1e3*t.position.lat())/1e3,selectedMarkerLng:Math.round(1e3*t.position.lng())/1e3,selectedAddress:"Adresse wird geladen ...",showingInfoWindow:!0})},a.getCountry=function(e){for(var t=0;t<e.length;t++){if("country"===e[t].types[0])return e[t].long_name;if(2===e[t].types.length&&"political"===e[t].types[0])return e[t].long_name}return"Unbekanntes Land"},a.getCity=function(e){for(var t=0;t<e.length;t++){if("locality"===e[t].types[0]||"postal_town"===e[t].types[0])return e[t].long_name;if(2===e[t].types.length&&"political"===e[t].types[0])return e[t].long_name}return"Unbekannte Stadt"},a.onMapClicked=function(e){a.state.showingInfoWindow&&a.setState({showingInfoWindow:!1,activeMarker:null})},a.onShowSensorDataClicked=function(){var e={chip_id:a.state.activeMarker.name,name:a.state.selectedAddress,color:"#000000",fav:!1};a.props.onShowSensorData(e)},a.onAddFavouriteClicked=function(){a.props.onAddFavourite(a.state.activeMarker.name)},a.state.markers=a.props.markerData.map(function(e){return r.a.createElement(te.Marker,{key:e.chip_id,icon:{url:"markers/blue.png"},title:e.chip_id,name:e.chip_id,onClick:a.onMarkerClick,position:{lat:e.lat,lng:e.lng}})}),a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"onInfoWindowOpen",value:function(e,t){var a=r.a.createElement(m.b,{variant:"outlined",color:"primary",onClick:this.onShowSensorDataClicked,style:{marginTop:5,width:210}},"Messwerte\xa0anzeigen");if(o.a.render(r.a.Children.only(a),document.getElementById("show_data")),this.props.logged_in){var n=r.a.createElement(m.b,{variant:"contained",color:"primary",onClick:this.onAddFavouriteClicked,style:{marginTop:5,width:210}},"Favorit\xa0hinzuf\xfcgen");o.a.render(r.a.Children.only(n),document.getElementById("add_favourite"))}}},{key:"render",value:function(){var e=this;return this.props.markerData===this.state.old_markerData&&this.props.favourites.length===this.state.old_favourites.length&&this.props.own_sensors.length===this.state.old_own_sensors.length||(this.state.markers=this.props.markerData.map(function(t){var a="markers/blue.png";return e.props.favourites.map(function(e){return e.chip_id===t.chip_id&&(a="markers/red.png"),!0}),e.props.own_sensors.map(function(e){return e.chip_id===t.chip_id&&(a="markers/green.png"),!0}),r.a.createElement(te.Marker,{key:t.chip_id,icon:{url:a},title:t.chip_id,name:t.chip_id,onClick:e.onMarkerClick,position:{lat:t.lat,lng:t.lng}})}),this.setState({old_markerData:this.props.markerData,old_favourites:this.props.favourites,old_own_sensors:this.props.own_sensors})),r.a.createElement(te.Map,{google:this.props.google,onClick:this.onMapClicked,zoom:7,initialCenter:{lat:this.props.ownPosition.lat,lng:this.props.ownPosition.lng}},this.state.markers,r.a.createElement(te.InfoWindow,{marker:this.state.activeMarker,visible:this.state.showingInfoWindow,onOpen:function(t){e.onInfoWindowOpen(e.props,t)}},r.a.createElement(m.e,{elevation:1,style:{width:210}},r.a.createElement("div",null,r.a.createElement(m.d,{container:!0},r.a.createElement(m.d,{item:!0,xs:3},r.a.createElement(m.a,null,r.a.createElement(Ye,null))),r.a.createElement(m.d,{item:!0,xs:9},r.a.createElement(m.f,{variant:"body2",noWrap:!0},this.state.selectedPlace.name),r.a.createElement(m.f,{noWrap:!0},r.a.createElement("i",null,this.state.selectedMarkerLat,", ",this.state.selectedMarkerLng)))),r.a.createElement(m.f,null,this.state.selectedAddress),r.a.createElement("div",{id:"show_data",style:{height:50}}),this.props.logged_in&&r.a.createElement("div",{id:"add_favourite",style:{height:50}})))))}}]),t}(n.Component),ie=Object(te.GoogleApiWrapper)({apiKey:"AIzaSyDs145s6rNrM2_yEhWs27gd4Q9RHbh4WSY",language:"de"})(re),oe=a(520),se=a(494),le=a.n(se),ce=a(495),de=a.n(ce),he=a(496),ue=a.n(he),pe=a(497),me=a.n(pe),ge=a(41),be=a.n(ge),fe=a(47),_e=a.n(fe),ve=a(48),Ee=a.n(ve);function ye(e){var t=e.classes,a=e.inputRef,n=void 0===a?function(){}:a,i=e.ref,o=Object(oe.a)(e,["classes","inputRef","ref"]);return r.a.createElement(be.a,Object.assign({fullWidth:!0,InputProps:{inputRef:function(e){i(e),n(e)},classes:{input:t.input},disableUnderline:!0}},o))}function ke(e,t){var a=t.query,n=t.isHighlighted,i=ue()(e.description,a),o=me()(e.description,i);return r.a.createElement(Ee.a,{selected:n,component:"div"},r.a.createElement("div",null,o.map(function(e,t){return e.highlight?r.a.createElement("span",{key:String(t),style:{fontWeight:500}},e.text):r.a.createElement("strong",{key:String(t),style:{fontWeight:300}},e.text)})))}function Ce(e,t){var a=e.suggestions,n=le()(t.trim()).toLowerCase(),r=n.length,i=0;return 0===r?[]:a.filter(function(e){var t=i<5&&e.description.slice(0,r).toLowerCase()===n;return t&&(i+=1),t})}function Se(e){return e.description}var we=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={single:"",popper:"",suggestions:[]},a.handleSuggestionsFetchRequested=function(e){var t=e.value;a.setState({suggestions:Ce(a.props,t)})},a.handleSuggestionsClearRequested=function(){a.setState({suggestions:[]})},a.handleChange=function(e){return function(t,n){var r=n.newValue;a.props.onChange(t,{newValue:r}),a.setState(Object(g.a)({},e,r))}},a.handleEnterHit=function(e){console.log("Enter!"),"Enter"===e.key&&(e.preventDefault(),console.log("Enter!"))},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.classes,t={renderInputComponent:ye,suggestions:this.state.suggestions,onSuggestionsFetchRequested:this.handleSuggestionsFetchRequested,onSuggestionsClearRequested:this.handleSuggestionsClearRequested,getSuggestionValue:Se,renderSuggestion:ke};return r.a.createElement("div",{className:e.root},r.a.createElement(de.a,Object.assign({onKeyPress:this.handleEnterHit},t,{inputProps:{classes:e,placeholder:this.props.placeholder,value:this.state.single,onChange:this.handleChange("single")},theme:{container:e.container,suggestionsContainerOpen:e.suggestionsContainerOpen,suggestionsList:e.suggestionsList,suggestion:e.suggestion},renderSuggestionsContainer:function(e){return r.a.createElement(_e.a,Object.assign({},e.containerProps,{style:{zIndex:3},square:!0}),e.children)}})))}}]),t}(r.a.Component),Oe=(Object(p.withStyles)(function(e){return{root:{height:40,flexGrow:1},container:{position:"relative"},suggestionsContainerOpen:{position:"absolute",zIndex:1,marginTop:e.spacing.unit,left:0,right:0},suggestion:{display:"block"},suggestionsList:{margin:0,padding:0,listStyleType:"none"},divider:{height:2*e.spacing.unit},input:{display:"flex"}}})(we),a(85)),De=a.n(Oe),je=a(62),xe=a.n(je),Me=a(160),Ae=a.n(Me),Pe=a(229),ze=a.n(Pe),Le=a(499),Te=a.n(Le),Ie=a(327),Fe=a.n(Ie),Be=a(498),Re=a.n(Be),Ne=a(132);function We(e){var t=e.children,a=e.dir;return r.a.createElement(m.f,{component:"div",dir:a},t)}var He=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={sync_key:a.props.sync_key,favourites:a.props.favourites,own_sensors:a.props.own_sensors,clicked:void 0,anchorEl:null,page:0},a.handlePageChange=function(e,t){a.setState({page:t})},a.handleMenuClick=function(e,t){e.stopPropagation(),e.preventDefault(),a.setState({clicked:t,anchorEl:e.currentTarget})},a.handleMenuClose=function(e,t){0===e?a.setState({clicked:void 0,anchorEl:null}):1===e?(a.props.onShowSensorData(t),a.setState({clicked:void 0,anchorEl:null})):2===e?(a.props.onEditSensor(t),a.setState({clicked:void 0,anchorEl:null})):3===e?(a.props.onRemoveSensor(t.chip_id),a.setState({clicked:void 0,anchorEl:null})):4===e&&(a.props.onSensorDetails(t),a.setState({clicked:void 0,anchorEl:null}))},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,i=t.theme;return r.a.createElement("div",{style:{height:"100%"}},!1===this.props.logged_in&&r.a.createElement(Ne.Scrollbars,null,r.a.createElement("div",{className:a.container},r.a.createElement(m.a,{className:a.qr_container},r.a.createElement("div",{style:{backgroundColor:"#FFF",padding:10,borderRadius:10}},r.a.createElement(Re.a,{value:this.state.sync_key,size:210,logo:"https://map.h2801469.stratoserver.net/qr_icon.png",logoWidth:70}))),r.a.createElement(m.f,{variant:"h6",style:{position:"absolute",marginTop:230,color:"#3F51B5"},gutterBottom:!0},r.a.createElement("b",null,"Mit der Android-App verkn\xfcpfen")),r.a.createElement(m.f,{variant:"subtitle1",style:{position:"absolute",marginTop:290,color:"#666",textAlign:"center"},gutterBottom:!0},"Um Ihre Sensoren und Ihre Favouriten aus der App",r.a.createElement("br",null),"hier anzuzeigen, starten Sie die Feinstaub-App."),r.a.createElement(m.f,{variant:"subtitle1",style:{position:"absolute",marginTop:360,color:"#666",textAlign:"center"},gutterBottom:!0},r.a.createElement("i",{style:{color:"#3F51B5"}},"Drei Punkte oben rechts \u2192 'Web-Version'.")),r.a.createElement(m.f,{variant:"subtitle1",style:{position:"absolute",marginTop:415,color:"#666",textAlign:"center",marginBottom:30},gutterBottom:!0},"Scannen Sie den obigen QR-Code."))),this.props.logged_in&&r.a.createElement("div",{style:{height:"calc(100% - 8px)"}},r.a.createElement(Ne.Scrollbars,{style:{height:"calc(100% - 64px)"}},r.a.createElement(ze.a,{axis:"x",index:this.state.page,onChangeIndex:this.handlePageChange,animateHeight:!0},r.a.createElement(We,{style:{overflow:"auto"},dir:i.direction},this.props.favourites.length>0&&r.a.createElement(P.a,{style:{overflow:"auto"}},this.props.favourites.map(function(t){return r.a.createElement(n.Fragment,null,r.a.createElement(L.a,{button:!0,onClick:function(){return e.props.onShowSensorData(t)}},r.a.createElement(m.a,{style:{backgroundColor:t.color}},r.a.createElement(Ye,null)),r.a.createElement(B.a,{primary:t.name,secondary:t.chip_id}),r.a.createElement(y.a,{"aria-label":"Weitere Optionen",onClick:function(a){return e.handleMenuClick(a,t.chip_id)},style:{zIndex:"3"},"aria-haspopup":"true"},r.a.createElement(Fe.a,null))),void 0!==e.state.clicked&&r.a.createElement(Ae.a,{anchorEl:e.state.anchorEl,open:e.state.clicked===t.chip_id,onClose:function(){return e.handleMenuClose(0,t)}},r.a.createElement(Ee.a,{onClick:function(){return e.handleMenuClose(1,t)}},"Messdaten anzeigen"),r.a.createElement(Ee.a,{onClick:function(){return e.handleMenuClose(2,t)}},"Sensor bearbeiten"),r.a.createElement(Ee.a,{onClick:function(){return e.handleMenuClose(3,t)}},"Sensor entfernen"),r.a.createElement(Ee.a,{onClick:function(){return e.handleMenuClose(4,t)}},"Eigenschaften")))},this)),0===this.props.favourites.length&&r.a.createElement(n.Fragment,null,r.a.createElement(m.a,{alt:"Favourites",src:"/images/star_impossible.png",style:{width:250,height:250,marginLeft:60,marginTop:50,padding:15}}),r.a.createElement(m.f,{variant:"subtitle1",style:{marginLeft:20,marginRight:20,marginTop:40,color:"#666",textAlign:"center"},gutterBottom:!0},r.a.createElement("b",null,"Noch keine Favouriten vorhanden. Um Favoriten hinzuzuf\xfcgen, tippen Sie auf der Karte auf einen Sensor und w\xe4hlen Sie 'Favorit hinzuf\xfcgen'.")))),r.a.createElement(We,{style:{overflow:"auto"},dir:i.direction},this.props.own_sensors.length>0&&r.a.createElement(P.a,{style:{overflow:"auto"}},this.props.own_sensors.map(function(t){return r.a.createElement(n.Fragment,null,r.a.createElement(L.a,{button:!0,onClick:function(){return e.props.onShowSensorData(t)}},r.a.createElement(m.a,{style:{backgroundColor:t.color}},r.a.createElement(Ye,null)),r.a.createElement(B.a,{primary:t.name,secondary:t.chip_id}),r.a.createElement(y.a,{"aria-label":"Weitere Optionen",onClick:function(a){return e.handleMenuClick(a,t.chip_id)},style:{zIndex:"3"},"aria-haspopup":"true"},r.a.createElement(Fe.a,null))),void 0!==e.state.clicked&&r.a.createElement(Ae.a,{anchorEl:e.state.anchorEl,open:e.state.clicked===t.chip_id,onClose:function(){return e.handleMenuClose(0,t)}},r.a.createElement(Ee.a,{onClick:function(){return e.handleMenuClose(1,t)}},"Messdaten anzeigen"),r.a.createElement(Ee.a,{onClick:function(){return e.handleMenuClose(2,t)}},"Sensor bearbeiten"),r.a.createElement(Ee.a,{onClick:function(){return e.handleMenuClose(3,t)}},"Sensor entfernen"),r.a.createElement(Ee.a,{onClick:function(){return e.handleMenuClose(4,t)}},"Eigenschaften")))},this)),0===this.props.own_sensors.length&&r.a.createElement(n.Fragment,null,r.a.createElement(m.a,{alt:"Own Sensors",src:"/images/sensor_large.png",style:{width:200,height:200,marginLeft:85,marginTop:75,padding:15}}),r.a.createElement(m.f,{variant:"subtitle1",style:{marginLeft:20,marginRight:20,marginTop:65,color:"#666",textAlign:"center"},gutterBottom:!0},r.a.createElement("b",null,"Falls Sie einen eigenen Feinstaubsensor von ",r.a.createElement("a",{href:"https://luftdaten.info/feinstaubsensor-bauen/",target:"blank"},"www.luftdaten.info")," haben, k\xf6nnen Sie ihn hier verkn\xfcpfen. Tippen Sie auf den '+'-Button ganz unten rechts auf der Seite.")))))),r.a.createElement(De.a,{value:this.state.page,onChange:this.handlePageChange,variant:"fullWidth",indicatorColor:"primary",textColor:"primary"},r.a.createElement(xe.a,{icon:r.a.createElement(Te.a,null),label:"Favoriten"}),r.a.createElement(xe.a,{icon:r.a.createElement(Ye,null),label:"Meine Sensoren"}))))}}]),t}(n.Component),Ke=Object(p.withStyles)(function(e){return{container:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%"},qr_container:{width:330,height:330,marginTop:40,backgroundColor:"#3F51B5"}}},{withTheme:!0})(He),qe=a(33),Ue=a.n(qe),Ye=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(Ue.a,null,r.a.createElement("path",{d:"M22,9L22,7h-2L20,5c0,-1.1 -0.9,-2 -2,-2L4,3c-1.1,0 -2,0.9 -2,2v14c0,1.1 0.9,2 2,2h14c1.1,0 2,-0.9 2,-2v-2h2v-2h-2v-2h2v-2h-2L20,9h2zM18,19L4,19L4,5h14v14zM6,13h5v4L6,17zM12,7h4v3h-4zM6,7h5v5L6,12zM12,11h4v6h-4z"}))}}]),t}(n.Component),Ve=a(80),Ze=a.n(Ve),Ge=a(28),Je=a.n(Ge),Qe=a(40),Xe=a.n(Qe),$e=a(71),et=a.n($e),tt=a(56),at=a.n(tt),nt=a(218),rt=a.n(nt),it=a(128),ot=a.n(it),st=a(129),lt=a.n(st),ct=a(130),dt=a.n(ct),ht=a(161),ut=a.n(ht),pt=a(44),mt=a.n(pt),gt=a(127),bt=a(230),ft=a.n(bt),_t=a(500),vt=a.n(_t),Et=(a(947),vt.a.initializeApp({apiKey:"AIzaSyBcaCFA3uJQ7WrjRflWoIdQFhuFmqBEmcI",authDomain:"feinstaub-app-web.firebaseapp.com",databaseURL:"https://feinstaub-app-web.firebaseio.com",projectId:"feinstaub-app-web",storageBucket:"feinstaub-app-web.appspot.com",messagingSenderId:"985064412726"})),yt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={active_step:1,chip_id:"",next_disabled:!0,loading:!1,chip_id_error:!1,error_desc:"",sensor_name:"",color:"",lat:"",lng:"",alt:"",location_picker_open:!1},a.handleNext=function(e){if(1===e){a.setState({loading:!0});var t=Object(u.a)(Object(u.a)(a));Ze.a.post("https://h2801469.stratoserver.net/ServerScript.php").set("Content-Type","application/x-www-form-urlencoded").send({command:"issensordataexisting",chip_id:a.state.chip_id}).end(function(e,a){"true"===a.text.trim()?t.setState({loading:!1,active_step:2,next_disabled:!0}):t.setState({loading:!1,chip_id_error:!0,next_disabled:!0,error_desc:"Sie haben entweder die falsche Chip-ID angegeben oder in der Konfiguration Ihres Sensors ist die Option 'Senden an Feinstaub-App' nicht aktiviert. Nachdem die Option aktiviert ist, kann es bis zu 10 Minuten dauern, bis Daten auf dem Server ankommen."})})}else 3===e?a.addSensor():a.setState({active_step:a.state.active_step+1,next_disabled:!0})},a.handleBack=function(){a.setState({active_step:a.state.active_step-1})},a.chipIDChange=function(e){var t=0===e.target.value.length;a.setState({chip_id:e.target.value,chip_id_error:!1,error_desc:"",next_disabled:t})},a.nameChange=function(e){var t=0===e.target.value.length||""===a.state.color;a.setState({sensor_name:e.target.value,next_disabled:t})},a.colorChange=function(e,t){var n=0===a.state.sensor_name.length;a.setState({color:e.hex,next_disabled:n})},a.chooseLocation=function(){a.setState({location_picker_open:!0})},a.locationChange=function(e,t){console.log(t),console.log(e),a.setState({location_picker_open:!1})},a.latChanged=function(e){var t=0===e.target.value.length||0===a.state.lng.length||0===a.state.alt.length;a.setState({lat:e.target.value,next_disabled:t})},a.lngChanged=function(e){var t=0===a.state.lat.length||0===e.target.value.length||0===a.state.alt.length;a.setState({lng:e.target.value,next_disabled:t})},a.altChanged=function(e){var t=0===a.state.lat.length||0===a.state.lng.length||0===e.target.value.length;a.setState({alt:e.target.value,next_disabled:t})},a.addSensor=function(){if(a.setState({loading:!0}),a.props.logged_in){var e=Math.floor(Date.now()),t=a.props.user_data;t.push({chip_id:a.state.chip_id,color:a.state.color,fav:!1,name:a.state.sensor_name});var n={time:e,device:"web",data:t};Et.database().ref("sync/"+a.props.sync_key).set(n)}var r=Object(u.a)(Object(u.a)(a));Ze.a.post("https://h2801469.stratoserver.net/ServerScript.php").set("Content-Type","application/x-www-form-urlencoded").send({command:"addsensor",chip_id:a.state.chip_id,lat:a.state.lat,lng:a.state.lng,alt:a.state.alt}).end(function(e,t){var a=t.text.trim();console.log(a),0===a&&(a=2),r.props.onClose(parseInt(a))})},a.addSensorPrivate=function(){a.setState({loading:!0});var e=Math.floor(Date.now()),t=a.props.user_data;t.push({chip_id:a.state.chip_id,color:a.state.color,fav:!1,name:a.state.sensor_name});var n={time:e,device:"web",data:t};Et.database().ref("sync/"+a.props.sync_key).set(n),a.props.onClose(1)},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement(n.Fragment,null,r.a.createElement(Xe.a,{open:this.props.opened,fullWidth:!0,onClose:this.props.onClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(at.a,{id:"alert-dialog-title"},"Sensor hinzuf\xfcgen"),r.a.createElement(et.a,null,r.a.createElement(rt.a,{activeStep:this.state.active_step-1,orientation:"vertical"},r.a.createElement(ot.a,{key:"Chip-ID angeben"},r.a.createElement(lt.a,null,"Chip-ID angeben"),r.a.createElement(dt.a,null,r.a.createElement("div",null,r.a.createElement(C.a,null,"Bitte geben Sie die Chip-ID Ihres Sensors in das Feld unten ein. Sie finden die ID in der Konfiguration Ihres Sensors. Falls Sie die Sensor-ID dennoch nicht finden sollten, finden Sie auf unserer ",r.a.createElement("a",{href:"https://mrgames13.jimdo.com/feinstaub-app/faq/#6",target:"blank"},"FAQ-Seite")," einen Eintrag."),r.a.createElement(be.a,{value:this.state.chip_id,label:"Chip-ID",type:"number",error:this.state.chip_id_error,onChange:this.chipIDChange,variant:"outlined",style:{marginTop:15}}),""!==this.state.error_desc&&r.a.createElement(C.a,{color:"error",style:{marginTop:15}},this.state.error_desc)),r.a.createElement(Je.a,{disabled:!0,onClick:this.handleBack,style:{marginTop:15,marginRight:15}},"Zur\xfcck"),r.a.createElement("span",{style:{position:"relative",width:80}},r.a.createElement(Je.a,{variant:"contained",color:"primary",disabled:this.state.loading||this.state.next_disabled,style:{marginTop:15},onClick:function(){return e.handleNext(1)}},"Weiter"),this.state.loading&&r.a.createElement(ut.a,{size:24,style:{marginTop:0},className:t.buttonProgress})))),r.a.createElement(ot.a,{key:"Basisdaten angeben"},r.a.createElement(lt.a,null,"Basisdaten angeben"),r.a.createElement(dt.a,null,r.a.createElement("div",null,r.a.createElement(C.a,null,"Bitte vergeben Sie f\xfcr Ihren Sensor einen Anzeigenamen und bestimmen Sie eine Farbe f\xfcr den Sensor innerhalb der Diagramme."),r.a.createElement(be.a,{label:"Anzeigename",value:this.state.sensor_name,style:{width:360,marginTop:15,marginBottom:15},onChange:this.nameChange,variant:"outlined"}),r.a.createElement(gt.CirclePicker,{color:this.state.color,width:"380px",onChangeComplete:this.colorChange})),r.a.createElement(Je.a,{onClick:this.handleBack,style:{marginTop:15,marginRight:15}},"Zur\xfcck"),r.a.createElement("span",{style:{position:"relative",width:80}},r.a.createElement(Je.a,{variant:"contained",color:"primary",disabled:this.state.next_disabled,style:{marginTop:15},onClick:function(){return e.handleNext(2)}},"Weiter")))),r.a.createElement(ot.a,{key:"Auf die Karte bringen"},r.a.createElement(lt.a,null,"Auf die Karte bringen"),r.a.createElement(dt.a,null,r.a.createElement("div",null,r.a.createElement(C.a,null,"Um Ihren Sensor auf die Karte zu bekommen, m\xfcssen Sie die genaue Position des Sensors und die Montageh\xf6he ",r.a.createElement("b",null,"\xfcber dem Boden")," angeben.",r.a.createElement("br",null),r.a.createElement("b",null,"HINWEIS:")," Diese Daten k\xf6nnen sp\xe4ter nur noch ge\xe4ndert werden, indem Sie per E-Mail mit uns in ",r.a.createElement("a",{href:"mailto:mrgames@outlook.de"},"Kontakt")," treten."),r.a.createElement(mt.a,{title:"Bald verf\xfcgbar"},r.a.createElement(Je.a,{variant:"outlined",color:"primary",_onClick:this.chooseLocation,style:{margin:10,width:440}},"Position des Sensors w\xe4hlen")),r.a.createElement("span",null,r.a.createElement(be.a,{label:"L\xe4ngengrad",style:{margin:10},type:"number",onChange:this.latChanged,variant:"outlined"}),r.a.createElement(be.a,{label:"Breitengrad",style:{margin:10},type:"number",onChange:this.lngChanged,variant:"outlined"})),r.a.createElement(be.a,{label:"Montageh\xf6he (in Meter)",style:{margin:10},type:"number",onChange:this.altChanged,variant:"outlined"})),r.a.createElement(Je.a,{onClick:this.handleBack,style:{marginTop:15,marginRight:15}},"Zur\xfcck"),this.props.logged_in&&r.a.createElement(Je.a,{variant:"outlined",onClick:this.addSensorPrivate,style:{marginTop:15,marginRight:15}},"\xdcberspringen"),r.a.createElement("span",{style:{position:"relative",width:80}},r.a.createElement(Je.a,{variant:"contained",color:"primary",disabled:this.state.loading||this.state.next_disabled,style:{marginTop:15},onClick:function(){return e.handleNext(3)}},"Sensor hinzuf\xfcgen"),this.state.loading&&r.a.createElement(ut.a,{size:24,style:{marginTop:0},className:t.buttonProgress}))))))),this.state.location_picker_open&&r.a.createElement(Sa,{onChoose:this.locationChange}))}}]),t}(r.a.Component),kt=Object(p.withStyles)(function(e){return{buttonProgress:{position:"absolute",color:ft.a[500],top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})(yt),Ct=a(57),St=a.n(Ct),wt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",color:void 0,button_disabled:!0},a.onAddFavourite=function(){var e=Math.floor(Date.now()),t=a.props.user_data;t.push({chip_id:a.props.chip_id,color:a.state.color,fav:!0,name:a.state.name});var n={time:e,device:"web",data:t};Et.database().ref("sync/"+a.props.sync_key).set(n),a.props.onClose()},a.onNameChanged=function(e){var t=0===e.target.value.length||void 0===a.state.color;a.setState({name:e.target.value,button_disabled:t})},a.onColorChanged=function(e,t){a.setState({color:e.hex,button_disabled:0===a.state.name.length})},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(Xe.a,{open:this.props.opened,onClose:this.props.onClose,"aria-labelledby":"dialog-title"},r.a.createElement(at.a,{id:"dialog-title"},"Sensor zu Favoriten hinzuf\xfcgen"),r.a.createElement("div",{className:e.dialog_content},r.a.createElement("p",null,r.a.createElement(be.a,{label:"Anzeigename",style:{width:"320px"},onChange:this.onNameChanged,variant:"outlined"})),r.a.createElement("p",null,r.a.createElement(be.a,{label:"Chip-ID",disabled:!0,value:this.props.chip_id,style:{width:"320px"},variant:"outlined"})),r.a.createElement(gt.CirclePicker,{color:this.state.color,width:"340px",onChangeComplete:this.onColorChanged})),r.a.createElement(St.a,null,r.a.createElement(Je.a,{onClick:this.props.onClose,color:"primary"},"Abbrechen"),r.a.createElement(Je.a,{onClick:this.onAddFavourite,color:"primary",disabled:this.state.button_disabled,autoFocus:!0},"Favorit hinzuf\xfcgen")))}}]),t}(r.a.Component),Ot=Object(p.withStyles)(function(e){return{dialog_content:{marginTop:"-25px",marginLeft:"20px",marginRight:"20px"}}})(wt),Dt=a(219),jt=a.n(Dt),xt=a(164),Mt=a.n(xt),At=a(102),Pt=a.n(At),zt=a(220),Lt=a.n(zt),Tt=a(221),It=a.n(Tt),Ft=a(331),Bt=a(519),Rt=a(506),Nt=a.n(Rt),Wt=a(504),Ht=a.n(Wt),Kt=a(329),qt=a.n(Kt),Ut=a(507),Yt=a.n(Ut),Vt=a(501),Zt=a.n(Vt),Gt=a(163),Jt=a.n(Gt),Qt=a(502),Xt=a(508),$t=a.n(Xt),ea=a(52),ta=a.n(ea),aa=a(64),na=a.n(aa),ra=a(86),ia=a.n(ra),oa=0;function sa(e){var t=e.children,a=e.dir;return r.a.createElement(C.a,{component:"div",dir:a,style:{padding:24}}," ",t," ")}function la(e){return r.a.createElement(Pt.a,Object.assign({direction:"up"},e))}function ca(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)}var da=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={data:void 0,data_pm10:[],data_pm2_5:[],data_temp:[],data_humidity:[],data_pressure:[],data_graph:[],loading:!0,picker:null,open:!1,value:0,default_date:new Date,selected_date:new Date,dialog_details_open:!1,current_zoom:1e4,enabled_pm10:!0,enabled_pm2_5:!0,enabled_temp:!1,enabled_humidity:!1,enabled_pressure:!1},a.loadSensorData=function(){a.setState({loading:!0});var e=Object(u.a)(Object(u.a)(a));oa=0,fetch("https://h2801469.stratoserver.net/contents.php?path=esp8266-"+a.props.sensor.chip_id+"/data-"+Jt()(a.state.selected_date).format("YYYY-MM-DD")+".csv").then(function(e){return e.text()}).then(function(t){var n=Zt.a.parse(t),r=[],i=[],o=[],s=[],l=[],c=[],d=[],h=0;n.map(function(e){if(h>0){var t=new Date,a=0,n=0,i=0,u=0,p=0;""!==e[0]&&(t=e[0]),""!==e[1]&&(a=e[1]),""!==e[2]&&(a=e[2]),""!==e[3]&&(a=e[3]),""!==e[4]&&(n=e[4]),""!==e[5]&&(n=e[5]),""!==e[6]&&(n=e[6]),""!==e[7]&&(a=e[7]),""!==e[8]&&(n=e[8]),""!==e[9]&&(i=e[9]),""!==e[10]&&(u=e[10]),""!==e[11]&&(i=e[11]),""!==e[12]&&(p=e[12]),""!==e[13]&&(i=e[13]),""!==e[14]&&(u=e[14]),""!==e[15]&&(p=e[15]),""!==e[20]&&(a=e[20]),""!==e[21]&&(n=e[21]),""!==e[22]&&(a=e[22]),""!==e[23]&&(n=e[23]),i=ca(i,1),u=ca(u,1),p=ca(p/100,2),r.push(function(e,t,a,n,r,i){return{id:oa+=1,time:e,pm1:t,pm2:a,temp:n,humidity:r,pressure:i}}(t.substring(11),a,n,i,u,p)),t=new Date(t);var m=parseFloat(a),g=parseFloat(n),b=parseFloat(i),f=parseFloat(u),_=parseFloat(p);o.push({x:t,y:m}),s.push({x:t,y:g}),l.push({x:t,y:b}),c.push({x:t,y:f}),d.push({x:t,y:_})}return h++,!0}),a.state.enabled_pm10&&i.push({id:"PM10",color:"hsl(353, 70%, 50%)",data:o}),a.state.enabled_pm2_5&&i.push({id:"PM2,5",color:"hsl(87, 70%, 50%)",data:s}),a.state.enabled_temp&&i.push({id:"Temperatur",color:"hsl(183, 70%, 50%)",data:l}),a.state.enabled_humidity&&i.push({id:"Luftfeuchtigkeit",color:"hsl(281, 70%, 50%)",data:c}),a.state.enabled_pressure&&i.push({id:"Luftdruck",color:"hsl(61, 70%, 50%)",data:d}),e.setState({data:r,data_graph:i,data_pm10:o,data_pm2_5:s,data_temp:l,data_humidity:c,data_pressure:d,loading:!1})})},a.handleClickOpen=function(){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1})},a.showDetails=function(){a.props.onOpenDetails(a.props.sensor)},a.handleTabChange=function(e,t){a.setState({value:t})},a.handleTabChangeIndex=function(e){a.setState({value:e})},a.openPicker=function(){a.picker.open()},a.minusDay=function(){var e=a.state.selected_date;a.setState({selected_date:new Date(e.setTime(e.getTime()-864e5))}),a.loadSensorData()},a.plusDay=function(){var e=a.state.selected_date;a.setState({selected_date:new Date(e.setTime(e.getTime()+864e5))}),a.loadSensorData()},a.handleDateChange=function(e){a.setState({selected_date:e}),a.loadSensorData()},a.onZoomChange=function(e,t){a.setState({current_zoom:t})},a.onCheckedChange=function(e){return function(t){var n,r=[];"enabled_pm10"===e&&t.target.checked?r.push({id:"PM10",color:"hsl(353, 70%, 50%)",data:a.state.data_pm10}):"enabled_pm10"!==e&&a.state.enabled_pm10&&r.push({id:"PM10",color:"hsl(353, 70%, 50%)",data:a.state.data_pm10}),"enabled_pm2_5"===e&&t.target.checked?r.push({id:"PM2,5",color:"hsl(87, 70%, 50%)",data:a.state.data_pm2_5}):"enabled_pm2_5"!==e&&a.state.enabled_pm2_5&&r.push({id:"PM2,5",color:"hsl(87, 70%, 50%)",data:a.state.data_pm2_5}),"enabled_temp"===e&&t.target.checked?r.push({id:"Temperatur",color:"hsl(183, 70%, 50%)",data:a.state.data_temp}):"enabled_temp"!==e&&a.state.enabled_temp&&r.push({id:"Temperatur",color:"hsl(183, 70%, 50%)",data:a.state.data_temp}),"enabled_humidity"===e&&t.target.checked?r.push({id:"Luftfeuchtigkeit",color:"hsl(281, 70%, 50%)",data:a.state.data_humidity}):"enabled_humidity"!==e&&a.state.enabled_humidity&&r.push({id:"Luftfeuchtigkeit",color:"hsl(281, 70%, 50%)",data:a.state.data_humidity}),"enabled_pressure"===e&&t.target.checked?r.push({id:"Luftdruck",color:"hsl(61, 70%, 50%)",data:a.state.data_pressure}):"enabled_pressure"!==e&&a.state.enabled_pressure&&r.push({id:"Luftdruck",color:"hsl(61, 70%, 50%)",data:a.state.data_pressure}),a.setState((n={},Object(g.a)(n,e,t.target.checked),Object(g.a)(n,"data_graph",r),n))}},a.loadSensorData(),a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,i=t.theme;return r.a.createElement(Xe.a,{fullScreen:!0,open:this.props.opened,onClose:this.props.onClose,TransitionComponent:la},r.a.createElement(f.a,{className:a.appBar},r.a.createElement(v.a,null,r.a.createElement(mt.a,{title:"Sensordetails anzeigen"},r.a.createElement(y.a,{color:"inherit",onClick:this.showDetails,"aria-label":"Details anzeigen"},r.a.createElement(Ye,null))),r.a.createElement(C.a,{variant:"h6",color:"inherit",className:a.flex},this.props.sensor.name," - ChipID: ",this.props.sensor.chip_id),r.a.createElement(mt.a,{title:"Fenster schlie\xdfen"},r.a.createElement(y.a,{color:"inherit",onClick:this.props.onClose,"aria-label":"Close"},r.a.createElement(Mt.a,null))))),this.state.loading&&r.a.createElement(jt.a,null),r.a.createElement(Lt.a,{className:a.card},r.a.createElement(It.a,{className:a.card_content},r.a.createElement(mt.a,{title:"Tag davor"},r.a.createElement(y.a,{"aria-label":"Tag davor",onClick:this.minusDay},r.a.createElement(Ht.a,null))),r.a.createElement(Ft.b,{utils:Bt.a,locale:Nt.a},r.a.createElement(Ft.a,{value:this.state.selected_date,onChange:this.handleDateChange,className:a.date_selection,showTodayButton:!0,disableFuture:!0,cancelLabel:"Abbrechen",todayLabel:"Heute",okLabel:"OK",invalidLabel:"Ung\xfcltige Eingabe",format:"dd.MM.yyyy",ref:function(t){e.picker=t}})),r.a.createElement(mt.a,{title:"Anderes Datum w\xe4hlen"},r.a.createElement(y.a,{"aria-label":"Datum bearbeiten",onClick:this.openPicker},r.a.createElement(Yt.a,null))),this.state.selected_date>=this.state.default_date&&r.a.createElement(mt.a,{title:"Tag danach"},r.a.createElement(y.a,{"aria-label":"Tag danach",onClick:this.plusDay,disabled:!0},r.a.createElement(qt.a,{disabled:!0}))),this.state.selected_date<this.state.default_date&&r.a.createElement(mt.a,{title:"Tag danach"},r.a.createElement(y.a,{"aria-label":"Tag danach",onClick:this.plusDay},r.a.createElement(qt.a,null))))),r.a.createElement(f.a,{position:"static",color:"default"},r.a.createElement(De.a,{value:this.state.value,onChange:this.handleTabChange,indicatorColor:"primary",textColor:"primary",variant:"fullWidth"},r.a.createElement(xe.a,{label:"Diagramm"}),r.a.createElement(xe.a,{label:"Datens\xe4tze"}))),r.a.createElement(Ne.Scrollbars,null,r.a.createElement(ze.a,{axis:"rtl"===i.direction?"x-reverse":"x",index:this.state.value,onChangeIndex:this.handleTabChangeIndex,style:{overflowX:"hidden"},animateHeight:!0},r.a.createElement(sa,{dir:i.direction,style:{overflowX:"hidden"}},r.a.createElement(Ne.Scrollbars,{style:{height:600,overflowX:"hidden"}},this.state.data_graph!==[]&&r.a.createElement("div",{style:{height:590,width:this.state.current_zoom}},r.a.createElement(Qt.ResponsiveLine,{data:this.state.data_graph,margin:{top:10,right:50,bottom:40,left:30},xScale:{type:"time",format:"native",precision:"minute"},yScale:{type:"linear",stacked:!1,min:"auto",max:"auto"},curve:this.state.smooth_curve?this.state.basis_curve?"basis":"cardinal":"linear",axisBottom:{orient:"bottom",tickSize:5,tickPadding:5,tickRotation:0,legend:"Uhrzeit",legendOffset:35,format:"%H:%m",legendPosition:"middle"},axisLeft:{orient:"left",tickSize:5,tickPadding:5,tickRotation:0,legend:"Messwert",legendOffset:-40,legendPosition:"middle"},colors:"category10",lineWidth:1,dotSize:this.state.disable_dots?0:5,dotColor:"inherit:darker(0.3)",enableDotLabel:!0,dotLabel:this.state.enable_time?function(e){return"".concat(Jt()(e.x).format("HH:mm"),"")}:"",dotLabelYOffset:-12,dotBorderWidth:0,animate:!1,motionStiffness:90,motionDamping:15,legends:[{anchor:"bottom-right",direction:"row",justify:!1,translateX:25,translateY:40,itemsSpacing:10,itemDirection:"left-to-right",itemWidth:100,itemHeight:18,itemOpacity:.75,symbolSize:12,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)",effects:[{on:"hover",style:{itemBackground:"rgba(0, 0, 0, .03)",itemOpacity:1}}]}]}))),r.a.createElement(ta.a,{control:r.a.createElement(na.a,{checked:this.state.enabled_pm10,onChange:this.onCheckedChange("enabled_pm10"),value:"pm10",color:"primary"}),label:"PM10-Kurve anzeigen"}),r.a.createElement(ta.a,{control:r.a.createElement(na.a,{checked:this.state.enabled_pm2_5,onChange:this.onCheckedChange("enabled_pm2_5"),value:"pm2_5",color:"primary"}),label:"PM2,5-Kurve anzeigen"}),r.a.createElement(ta.a,{control:r.a.createElement(na.a,{checked:this.state.enabled_temp,onChange:this.onCheckedChange("enabled_temp"),value:"temp",color:"primary"}),label:"Temperatur-Kurve anzeigen"}),r.a.createElement(ta.a,{control:r.a.createElement(na.a,{checked:this.state.enabled_humidity,onChange:this.onCheckedChange("enabled_humidity"),value:"humidity",color:"primary"}),label:"Luftfeuchtigkeit-Kurve anzeigen"}),r.a.createElement(ta.a,{control:r.a.createElement(na.a,{checked:this.state.enabled_pressure,onChange:this.onCheckedChange("enabled_pressure"),value:"pressure",color:"primary"}),label:"Luftdruck-Kurve anzeigen"}),r.a.createElement(C.a,{variant:"h6"},"Zoom des Diagrammes:"),r.a.createElement("br",null),r.a.createElement($t.a,{value:this.state.current_zoom,onChange:this.onZoomChange,min:1e3,max:3e4,step:1e3}),r.a.createElement("br",null),r.a.createElement(ta.a,{control:r.a.createElement(ia.a,{checked:this.state.enable_time,onChange:this.onCheckedChange("enable_time"),color:"primary"}),label:"Messzeiten einblenden"}),r.a.createElement(ta.a,{control:r.a.createElement(ia.a,{checked:this.state.disable_dots,onChange:this.onCheckedChange("disable_dots"),color:"primary"}),label:"Punkte ausblenden"}),r.a.createElement(ta.a,{control:r.a.createElement(ia.a,{checked:this.state.smooth_curve,onChange:this.onCheckedChange("smooth_curve"),color:"primary"}),label:"Weiche Kurve aktivieren"}),this.state.smooth_curve&&r.a.createElement(ta.a,{control:r.a.createElement(ia.a,{checked:this.state.basis_curve,onChange:this.onCheckedChange("basis_curve"),color:"primary"}),label:"Kurvengl\xe4ttung aktivieren"}),!this.state.smooth_curve&&r.a.createElement(ta.a,{control:r.a.createElement(ia.a,{checked:this.state.basis_curve,onChange:this.onCheckedChange("basis_curve"),color:"primary",disabled:!0}),label:"Kurvengl\xe4ttung aktivieren"})),r.a.createElement(sa,{dir:i.direction},this.state.data&&r.a.createElement(Ja,{data:this.state.data}),void 0===this.state.data&&r.a.createElement(n.Fragment,null,"Keine Daten vorhanden")))))}}]),t}(r.a.Component),ha=Object(p.withStyles)(function(e){return{root:{backgroundColor:e.palette.background.paper,width:500},appBar:{position:"relative"},flex:{flex:1},card:{minWidth:275,margin:15},card_content:{height:50,padding:5},date_selection:{marginTop:10}}},{withTheme:!0})(da),ua=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={name:a.props.name,color:a.props.color,error:!1},a.nameChanged=function(e){var t=0===e.target.value.length;a.setState({name:e.target.value,error:t})},a.colorChanged=function(e,t){a.setState({color:e.hex})},a.saveChangings=function(){var e=Math.floor(Date.now()),t=[];a.props.data.map(function(e){return e.chip_id===a.props.chip_id?t.push({chip_id:a.props.chip_id,color:a.state.color,fav:a.props.fav,name:a.state.name}):t.push(e),!0});var n={time:e,device:"web",data:t};Et.database().ref("sync/"+a.props.sync_key).set(n),a.props.onClose(1)},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(Xe.a,{open:this.props.opened,onClose:this.props.onClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(at.a,{id:"alert-dialog-title"},"Sensor bearbeiten"),r.a.createElement("div",{className:e.dialog_content},r.a.createElement("p",null,r.a.createElement(be.a,{label:"Anzeigename",value:this.state.name,style:{width:"320px"},onChange:this.nameChanged,variant:"outlined"})),r.a.createElement("p",null,r.a.createElement(be.a,{label:"Chip-ID",value:this.props.chip_id,style:{width:"320px"},variant:"outlined",disabled:!0})),r.a.createElement(gt.CirclePicker,{colors:[this.props.color,"#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722","#795548","#607d8b"],color:this.state.color,width:"340px",onChangeComplete:this.colorChanged})),r.a.createElement(St.a,null,r.a.createElement(Je.a,{onClick:this.props.onClose,color:"primary"},"Abbrechen"),r.a.createElement(Je.a,{onClick:this.saveChangings,color:"primary",disabled:this.state.error,autoFocus:!0},"Speichern")))}}]),t}(r.a.Component),pa=Object(p.withStyles)(function(e){return{dialog_content:{marginTop:"-25px",marginLeft:"20px",marginRight:"20px"}}})(ua),ma=a(223),ga=a.n(ma),ba=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).onRemove=function(){var e=Math.floor(Date.now()),t=[];a.props.user_data.map(function(e){return e.chip_id!==a.props.chip_id&&t.push(e),!0});var n={time:e,device:"web",data:t};Et.database().ref("sync/"+a.props.sync_key).set(n),a.props.onClose(1)},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(Xe.a,{open:this.props.opened,onClose:this.props.onClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(at.a,{id:"alert-dialog-title"},"Sensor entfernen"),r.a.createElement(et.a,null,r.a.createElement(ga.a,{id:"alert-dialog-description"},"Wollen Sie den Sensor mit der Chip-ID ",r.a.createElement("b",null,this.props.chip_id)," wirklich entfernen? Sie k\xf6nnen ihn jederzeit wieder verkn\xfcpfen.")),r.a.createElement(St.a,null,r.a.createElement(Je.a,{onClick:this.props.onClose,color:"primary",autoFocus:!0},"Abbrechen"),r.a.createElement(Je.a,{onClick:this.onRemove,color:"primary"},"Entfernen")))}}]),t}(r.a.Component),fa=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={public:!1,creation_date:"Laden...",lat:"Laden...",lng:"Laden...",alt:"Laden..."},a.loadSensorDetails=function(){var e=Object(u.a)(Object(u.a)(a));Ze.a.post("https://h2801469.stratoserver.net/ServerScript.php").set("Content-Type","application/x-www-form-urlencoded").send({command:"issensorexisting",chip_id:a.props.chip_id}).end(function(t,a){"1"===a.text.trim()?Ze.a.post("https://h2801469.stratoserver.net/ServerScript.php").set("Content-Type","application/x-www-form-urlencoded").send({command:"getsensorinfo",chip_id:e.props.chip_id}).end(function(t,a){var n=a.text.trim(),r=JSON.parse(n)[0],i=r.alt+"m";e.setState({creation_date:Jt.a.unix(r.creation_date).format("DD.MM.YYYY"),public:!0,lat:r.lat,lng:r.lng,alt:i})}):e.setState({creation_date:"-",public:!1,lat:"-",lng:"-",alt:"-"})})},a.loadSensorDetails(),a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(Xe.a,{open:this.props.opened,onClose:this.props.onClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(at.a,{id:"alert-dialog-title"},"Sensor Details"),r.a.createElement(et.a,null,r.a.createElement("table",{width:"350"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("b",null,"Anzeigename:")),r.a.createElement("td",{align:"right"},this.props.name)),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("b",null,"Chip-ID:")),r.a.createElement("td",{align:"right"},this.props.chip_id)),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("b",null,"\xd6ffentlich:")),r.a.createElement("td",{align:"right"},this.state.public?"Ja":"Nein")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("b",null,"Online seit:")),r.a.createElement("td",{align:"right"},this.state.creation_date)),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("b",null,"L\xe4ngengrad:")),r.a.createElement("td",{align:"right"},this.state.lat)),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("b",null,"Breitengrad:")),r.a.createElement("td",{align:"right"},this.state.lng)),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("b",null,"Montageh\xf6he:")),r.a.createElement("td",{align:"right"},this.state.alt))))),r.a.createElement(St.a,null,r.a.createElement(Je.a,{onClick:this.props.onClose,color:"primary",autoFocus:!0},"OK")))}}]),t}(r.a.Component),_a=a(511),va=a.n(_a),Ea=a(509),ya=a.n(Ea);function ka(e){return r.a.createElement(Pt.a,Object.assign({direction:"up"},e))}var Ca=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={adress:"",position:{lat:0,lng:0}},a.onClose=function(){a.props.onChoose(a.state.position,a.state.address)},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"handleLocationChange",value:function(e){var t=e.position,a=e.address;this.setState({position:t,address:a})}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(Xe.a,{fullScreen:!0,open:!0,onClose:this.onClose,TransitionComponent:ka},r.a.createElement(f.a,{className:e.appBar},r.a.createElement(v.a,null,r.a.createElement(C.a,{variant:"h6",color:"inherit",className:e.flex}," W\xe4hlen Sie den genauen Standort des Sensors auf der Karte "),r.a.createElement(y.a,{color:"inherit",onClick:this.onClose,"aria-label":"Fertig"},r.a.createElement(va.a,null)))),r.a.createElement(ya.a,{containerElement:r.a.createElement("div",{style:{height:"100%",overflowY:"hidden"}}),mapElement:r.a.createElement("div",{style:{height:"100%"}}),radius:-1,defaultPosition:this.state.position,onChange:this.handleLocationChange}))}}]),t}(r.a.Component),Sa=Object(p.withStyles)({appBar:{position:"relative"},flex:{flex:1}})(Ca),wa=a(6),Oa=a.n(wa),Da=a(226),ja=a.n(Da),xa=a(227),Ma=a.n(xa),Aa=a(49),Pa=a.n(Aa),za=a(224),La=a.n(za),Ta=a(228),Ia=a.n(Ta),Fa=a(131),Ba=a.n(Fa),Ra=a(225),Na=a.n(Ra),Wa=a(512),Ha=a.n(Wa),Ka=a(513),qa=a.n(Ka);function Ua(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}var Ya=[{id:"time",numeric:!1,disablePadding:!0,label:"Uhrzeit"},{id:"pm10",numeric:!0,disablePadding:!1,label:"PM10"},{id:"pm2.5",numeric:!0,disablePadding:!1,label:"PM2,5"},{id:"temp",numeric:!0,disablePadding:!1,label:"Temperatur"},{id:"humidity",numeric:!0,disablePadding:!1,label:"Luftfeuchtigkeit"},{id:"pressure",numeric:!0,disablePadding:!1,label:"Luftdruck"}],Va=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).createSortHandler=function(e){return function(t){a.props.onRequestSort(t,e)}},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.onSelectAllClick,n=t.order,i=t.orderBy,o=t.numSelected,s=t.rowCount;return r.a.createElement(La.a,null,r.a.createElement(Ba.a,null,r.a.createElement(Pa.a,{padding:"checkbox"},r.a.createElement(na.a,{indeterminate:o>0&&o<s,checked:o===s,onChange:a})),Ya.map(function(t){return r.a.createElement(Pa.a,{key:t.id,align:t.numeric?"right":"left",padding:t.disablePadding?"none":"default",sortDirection:i===t.id&&n},r.a.createElement(mt.a,{title:"Sortieren",placement:t.numeric?"bottom-end":"bottom-start",enterDelay:300},r.a.createElement(Na.a,{active:i===t.id,direction:n,onClick:e.createSortHandler(t.id)},t.label)))},this)))}}]),t}(r.a.Component),Za=function(e){var t=e.numSelected,a=e.classes;return r.a.createElement(v.a,{className:Oa()(a.root,Object(g.a)({},a.highlight,t>0))},r.a.createElement("div",{className:a.title},t>0?r.a.createElement(C.a,{color:"inherit",variant:"subtitle1"},t," Datens\xe4tze ausgew\xe4hlt"):r.a.createElement(C.a,{variant:"h6",id:"tableTitle"},"Datens\xe4tze der Messdaten")),r.a.createElement("div",{className:a.spacer}),r.a.createElement("div",{className:a.actions},t>0?r.a.createElement(mt.a,{title:"L\xf6schen"},r.a.createElement(y.a,{"aria-label":"L\xf6schen"},r.a.createElement(Ha.a,null))):r.a.createElement(mt.a,{title:"Bald verf\xfcgbar"},r.a.createElement(y.a,{"aria-label":"Bald verf\xfcgbar"},r.a.createElement(qa.a,null)))))};Za=Object(p.withStyles)(function(e){return{root:{paddingRight:e.spacing.unit},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(S.lighten)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})(Za);var Ga=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={order:"asc",orderBy:"calories",selected:[],page:0,rowsPerPage:25},a.handleRequestSort=function(e,t){var n=t,r="desc";a.state.orderBy===t&&"desc"===a.state.order&&(r="asc"),a.setState({order:r,orderBy:n})},a.handleSelectAllClick=function(e){e.target.checked?a.setState(function(e){return{selected:e.data.map(function(e){return e.id})}}):a.setState({selected:[]})},a.handleClick=function(e,t){var n=a.state.selected,r=n.indexOf(t),i=[];-1===r?i=i.concat(n,t):0===r?i=i.concat(n.slice(1)):r===n.length-1?i=i.concat(n.slice(0,-1)):r>0&&(i=i.concat(n.slice(0,r),n.slice(r+1))),a.setState({selected:i})},a.handleChangePage=function(e,t){a.setState({page:t})},a.handleChangeRowsPerPage=function(e){a.setState({rowsPerPage:e.target.value})},a.isSelected=function(e){return-1!==a.state.selected.indexOf(e)},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.data,i=this.state,o=i.order,s=i.orderBy,l=i.selected,c=i.rowsPerPage,d=i.page,h=c-Math.min(c,n.length-d*c);return r.a.createElement(_e.a,{className:a.root},r.a.createElement(Za,{numSelected:l.length}),r.a.createElement("div",{className:a.tableWrapper},r.a.createElement(ja.a,{className:a.table,"aria-labelledby":"tableTitle"},r.a.createElement(Va,{numSelected:l.length,order:o,orderBy:s,onSelectAllClick:this.handleSelectAllClick,onRequestSort:this.handleRequestSort,rowCount:n.length}),r.a.createElement(Ma.a,null,function(e,t){var a=e.map(function(e,t){return[e,t]});return a.sort(function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]}),a.map(function(e){return e[0]})}(n,function(e,t){return"desc"===e?function(e,a){return Ua(e,a,t)}:function(e,a){return-Ua(e,a,t)}}(o,s)).slice(d*c,d*c+c).map(function(t){var a=e.isSelected(t.id);return r.a.createElement(Ba.a,{hover:!0,onClick:function(a){return e.handleClick(a,t.id)},role:"checkbox","aria-checked":a,tabIndex:-1,key:t.id,selected:a},r.a.createElement(Pa.a,{padding:"checkbox"},r.a.createElement(na.a,{checked:a})),r.a.createElement(Pa.a,{component:"th",scope:"row",padding:"none"},r.a.createElement("b",null,t.time," Uhr")),r.a.createElement(Pa.a,{align:"right"},t.pm1," \xb5g/m\xb3"),r.a.createElement(Pa.a,{align:"right"},t.pm2," \xb5g/m\xb3"),r.a.createElement(Pa.a,{align:"right",style:0===t.temp&&0===t.humidity&&0===t.pressure?{color:"#F00"}:{}},0===t.temp&&0===t.humidity&&0===t.pressure?"-":t.temp+" \xb0C"),r.a.createElement(Pa.a,{align:"right"},0!==t.humidity?t.humidity+" %":"-"),r.a.createElement(Pa.a,{align:"right"},0!==t.pressure?t.pressure+" hPa":"-"))}),h>0&&r.a.createElement(Ba.a,{style:{height:49*h}},r.a.createElement(Pa.a,{colSpan:6}))))),r.a.createElement(Ia.a,{rowsPerPageOptions:[25,50,100],component:"div",count:n.length,rowsPerPage:c,page:d,backIconButtonProps:{"aria-label":"Vorherige Seite"},nextIconButtonProps:{"aria-label":"N\xe4chste Seite"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage}))}}]),t}(r.a.Component),Ja=Object(p.withStyles)(function(e){return{root:{width:"100%",marginTop:3*e.spacing.unit},table:{minWidth:1020},tableWrapper:{overflowX:"auto"}}})(Ga),Qa=a(515),Xa=a.n(Qa),$a=a(162),en=a.n($a),tn=a(126),an=a.n(tn),nn=a(517),rn=a.n(nn),on=a(518),sn=a.n(on),ln=a(325),cn=a.n(ln),dn=a(514),hn=a.n(dn),un=a(1204),pn=a(1205),mn=function(e){function t(e){var n;Object(s.a)(this,t),(n=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={sync_key:"",user_data:[],favourites:[],own_sensors:[],first_sync_complete:!1,logged_in:!1,markerData:[],currentPosition:{lat:52.520008,lng:13.404954},selected:void 0,selected_id:void 0,suggestions:[],dialog_add_sensor_open:!1,dialog_add_favourite_open:!1,dialog_sensor_data_open:!1,dialog_sensor_data_route_open:!0,dialog_sensor_details_open:!1,dialog_edit_sensor_open:!1,dialog_remove_sensor_open:!1,snackbar_message:"Die Aktion war erfolgreich!",snackbar_success_open:!1,snackbar_error_open:!1},n.loadAllSensors=function(){var e=Object(u.a)(Object(u.a)(n));Ze.a.post("https://h2801469.stratoserver.net/ServerScript.php").set("Content-Type","application/x-www-form-urlencoded").send({command:"getall"}).end(function(t,a){var n=a.text.trim(),r=JSON.parse(n);e.setState({markerData:r})})},n.handleSearchChange=function(e){return function(e,t){var a=t.newValue,r=Object(u.a)(Object(u.a)(n));if(""!==a){var i=hn()("AIzaSyDUiKmZIwgnhCcWldQSuScuzKE8vGg94dc");Ze.a.post("https://h2801469.stratoserver.net/autocomplete.php").set("Content-Type","application/x-www-form-urlencoded").send({key:i,q:a}).end(function(e,t){try{var a=t.text.trim(),n=JSON.parse(a);r.setState({suggestions:n.predictions})}catch(i){console.log("Error: Loading place predictions")}})}}},n.onShowAddSensorDialog=function(){n.setState({dialog_add_sensor_open:!0})},n.onHideAddSensorDialog=function(e){n.setState({dialog_add_sensor_open:!1}),n.onSnackbarOpen(e,"Sensor erfolgreich hinzugef\xfcgt!","Fehler! Bitte versuchen Sie es erneut.")},n.onShowAddFavouriteDialog=function(e){n.setState({dialog_add_favourite_open:!0,selected_id:e})},n.onHideAddFavouriteDialog=function(e){n.setState({dialog_add_favourite_open:!1}),n.onSnackbarOpen(e,"Der Sensor wurde favorisiert!","Favorisieren fehlgeschlagen! Bitte versuchen Sie es erneut.")},n.onShowSensorDataDialog=function(e){n.setState({dialog_sensor_data_open:!0,selected:e})},n.onHideSensorDataDialog=function(){n.setState({dialog_sensor_data_open:!1,dialog_sensor_data_route_open:!1})},n.onShowDetailsDialog=function(e){n.setState({dialog_sensor_details_open:!0,selected:e})},n.onHideDetailsDialog=function(){n.setState({dialog_sensor_details_open:!1})},n.onShowEditSensorDialog=function(e){n.setState({dialog_edit_sensor_open:!0,selected:e})},n.onHideEditSensorDialog=function(e){n.setState({dialog_edit_sensor_open:!1,selected:void 0}),n.onSnackbarOpen(e,"\xc4nderungen erfolgreich gespeichert!","Die \xc4nderungen konnten nicht gespeichert werden! Bitte versuchen Sie es erneut.")},n.onShowRemoveSensorDialog=function(e){n.setState({dialog_remove_sensor_open:!0,selected_id:e})},n.onHideRemoveSensorDialog=function(e){n.setState({dialog_remove_sensor_open:!1,selected:void 0}),n.onSnackbarOpen(e,"Sensor erfolgreich entfernt!","Entfernen fehlgeschlagen! Bitte versuchen Sie es erneut.")},n.onSnackbarOpen=function(e,t,a){1===e?n.setState({snackbar_success_open:!0,snackbar_message:t}):2===e&&n.setState({snackbar_error_open:!0,snackbar_message:a})},n.onSnackbarClose=function(e,t){"clickaway"!==t&&n.setState({snackbar_success_open:!1,snackbar_error_open:!1})},navigator.geolocation.getCurrentPosition(function(e){n.setState({currentPosition:{lat:e.coords.latitude,lng:e.coords.longitude}})});var r=a(1192)({length:25});return n.state.sync_key=r,window.addEventListener("beforeunload",function(e){Et.database().ref("sync/"+n.state.sync_key).remove()}),n.loadAllSensors(),n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=Math.floor(Date.now()),a={time:t,device:"web"};Et.database().ref("sync/"+this.state.sync_key).set(a),Et.database().ref("sync/"+this.state.sync_key).on("value",function(a){if(null!==a.val()){if(a.child("time").val()>t){var n=a.child("data").val(),r=[],i=[];null!==n?n.map(function(e){return e.fav?r.push(e):i.push(e),!0}):n=[],e.setState({logged_in:!0,user_data:n,favourites:r,own_sensors:i,snackbar_success_open:!1===e.state.first_sync_complete,snackbar_message:"Verkn\xfcpfung mit Android-App erfolgreich",first_sync_complete:!0})}}else e.setState({logged_in:!1,user_data:[],favourites:[],own_sensors:[],snackbar_error_open:!0,snackbar_message:"Verbindung zur Android-App beendet",first_sync_complete:!1})})}},{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement(un.a,null,r.a.createElement(n.Fragment,null,r.a.createElement(j,{suggestions:this.state.suggestions,onChange:this.handleSearchChange("single")}),r.a.createElement("main",{className:t.main},r.a.createElement(m.d,{container:!0,style:{height:"100%"}},r.a.createElement(m.d,{item:!0,style:{width:400}},r.a.createElement(Ke,{logged_in:this.state.logged_in,sync_key:this.state.sync_key,favourites:this.state.favourites,own_sensors:this.state.own_sensors,onShowSensorData:this.onShowSensorDataDialog,onEditSensor:this.onShowEditSensorDialog,onRemoveSensor:this.onShowRemoveSensorDialog,onSensorDetails:this.onShowDetailsDialog})),r.a.createElement(m.d,{item:!0},this.state.markerData&&r.a.createElement(ie,{google:window.google,logged_in:this.state.logged_in,ownPosition:this.state.currentPosition,markerData:this.state.markerData,favourites:this.state.favourites,own_sensors:this.state.own_sensors,onAddFavourite:this.onShowAddFavouriteDialog,onShowSensorData:this.onShowSensorDataDialog,style:{position:"absolute",top:0,bottom:0}}))),r.a.createElement(m.c,{color:"primary","aria-label":"Sensor hinzuf\xfcgen",style:{margin:0,right:20,bottom:65,position:"fixed"},onClick:this.onShowAddSensorDialog},r.a.createElement(Xa.a,null)),this.state.dialog_add_sensor_open&&r.a.createElement(kt,{opened:this.state.dialog_add_sensor_open,onClose:this.onHideAddSensorDialog,onSensorAdded:this.props.onHideAddSensorDialog,user_data:this.state.user_data,sync_key:this.state.sync_key,logged_in:this.state.logged_in}),void 0!==this.state.selected_id&&this.state.dialog_add_favourite_open&&r.a.createElement(Ot,{opened:this.state.dialog_add_favourite_open,onClose:this.onHideAddFavouriteDialog,sync_key:this.state.sync_key,user_data:this.state.user_data,chip_id:this.state.selected_id}),void 0!==this.state.selected&&this.state.dialog_sensor_data_open&&r.a.createElement(ha,{opened:this.state.dialog_sensor_data_open,onClose:this.onHideSensorDataDialog,onOpenDetails:this.onShowDetailsDialog,sensor:this.state.selected}),void 0!==this.state.selected&&this.state.dialog_edit_sensor_open&&r.a.createElement(pa,{opened:this.state.dialog_edit_sensor_open,sync_key:this.state.sync_key,data:this.state.user_data,onClose:this.onHideEditSensorDialog,chip_id:this.state.selected.chip_id,name:this.state.selected.name,fav:this.state.selected.fav,color:this.state.selected.color}),void 0!==this.state.selected_id&&this.state.dialog_remove_sensor_open&&r.a.createElement(ba,{opened:this.state.dialog_remove_sensor_open,sync_key:this.state.sync_key,user_data:this.state.user_data,onClose:this.onHideRemoveSensorDialog,chip_id:this.state.selected_id}),void 0!==this.state.selected&&this.state.dialog_sensor_details_open&&r.a.createElement(fa,{opened:this.state.dialog_sensor_details_open,chip_id:this.state.selected.chip_id,name:this.state.selected.name,onClose:this.onHideDetailsDialog}),r.a.createElement(pn.a,{path:"/s/:id",render:function(t){return r.a.createElement(ha,{opened:e.state.dialog_sensor_data_route_open,onClose:e.onHideSensorDataDialog,onOpenDetails:e.onShowDetailsDialog,sensor:{chip_id:t.match.params.id,name:"Unbekannter Sensor"}})}}),r.a.createElement(en.a,{open:this.state.snackbar_success_open,anchorOrigin:{vertical:"bottom",horizontal:"right"},autoHideDuration:3e3,onClose:this.onSnackbarClose},r.a.createElement(an.a,{message:r.a.createElement("span",{style:{display:"flex",alignItems:"center"}},r.a.createElement(rn.a,{style:{fontSize:20,opacity:.9,marginRight:15}}),this.state.snackbar_message),action:[r.a.createElement(y.a,{key:"success",color:"inherit",onClick:this.onSnackbarClose},r.a.createElement(Mt.a,{style:{fontSize:20}}))],style:{backgroundColor:ft.a[600]}})),r.a.createElement(en.a,{open:this.state.snackbar_error_open,anchorOrigin:{vertical:"bottom",horizontal:"right"},autoHideDuration:3e3,onClose:this.onSnackbarClose},r.a.createElement(an.a,{message:r.a.createElement("span",{style:{display:"flex",alignItems:"center"}},r.a.createElement(sn.a,{style:{fontSize:20,opacity:.9,marginRight:15}}),this.state.snackbar_message),action:[r.a.createElement(y.a,{key:"error",color:"inherit",onClick:this.onSnackbarClose},r.a.createElement(Mt.a,{style:{fontSize:20}}))],style:{backgroundColor:cn.a[600]}}))),r.a.createElement(m.d,{container:!0,className:t.footer},r.a.createElement(m.f,{variant:"body2",color:"inherit",style:{marginTop:7},noWrap:!0},"\xa9 M&R Games\xa0\xa0-\xa0\xa02018 - 2019"),r.a.createElement(m.b,{variant:"outlined",color:"primary",href:"https://mrgames13.jimdo.com",target:"_blank",className:t.button_homepage},"Unsere Homepage"),r.a.createElement(m.b,{variant:"outlined",color:"primary",href:"https://mrgames13.jimdo.com/feinstaub-app/info/",target:"_blank",className:t.button_info},"Info"),r.a.createElement(m.b,{variant:"outlined",color:"secondary",href:"https://play.google.com/store/apps/details?id=com.mrgames13.jimdo.feinstaubapp",target:"_blank",className:t.button_download},"Android-App herunterladen"))))}}]),t}(n.Component),gn=Object(p.withStyles)(function(e){return{main:{flexGrow:1,display:"flex",position:"absolute",width:"100%",height:"calc(100% - 64px - 45px)",zIndex:1,top:64,overflow:"hidden"},footer:{position:"absolute",backgroundColor:"#32a087",height:45,paddingLeft:13,paddingRight:13,paddingTop:5,width:"100%",bottom:0,left:0,right:0},button_download:{position:"absolute",right:13},button_info:{position:"absolute",right:265},button_homepage:{position:"absolute",right:338}}},{withTheme:!0})(mn);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(gn,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},556:function(e,t,a){e.exports=a(1200)},561:function(e,t,a){},971:function(e,t){},973:function(e,t){}},[[556,2,1]]]);
//# sourceMappingURL=main.96cee93f.chunk.js.map